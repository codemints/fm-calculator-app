const k=function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function f(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=f(e);fetch(e.href,r)}};k();const S=()=>{const p=Array.from(document.querySelectorAll('input[name="theme-control"]')),g=document.documentElement,f=localStorage.getItem("data-theme"),o="data-theme",e=u=>window.matchMedia(`(prefers-color-scheme: ${u})`),r=(u,l)=>{g.setAttribute(u,l),localStorage.setItem(u,l),s(l)},s=u=>{p.forEach(l=>{l.dataset.mode===u&&(p.forEach(m=>m.parentNode.classList.remove("active")),l.parentNode.classList.add("active"),l.checked=!0)})},c=(u,l)=>{f===l&&r(u,l)};e("dark").matches&&!f?(console.log(e("dark").matches,f),r(o,"dark"),s("dark")):!e("dark").matches&&!f&&(console.log(e("dark").matches,f),r(o,"light")),c(o,"dark"),c(o,"light"),c(o,"contrast"),p.forEach(u=>{u.addEventListener("change",l=>{const E=l.target.dataset.mode;r(o,E)})}),e("dark").addEventListener("change",()=>{e("dark").matches?r(o,"dark"):r(o,"light")})},w=(p,g,f)=>document.getElementById(p).innerHTML=JSON.stringify(g,null,f),N=()=>{const p=document.getElementById("calculations"),g=document.querySelectorAll(".button"),f=["1","2","3","4","5","6","7","8","9","0","."],o=["+","-","*","/"];let e=new Array,r,s=!1,c=0;const u=d=>{let i="";return d.forEach(h=>i+=h.join("")),c=0,r=void 0,new Function("return "+i)()},l=d=>{const i=new Array;return d.forEach((h,n,t)=>{i.push(new Array),n!==t.length-1&&h.forEach((a,y,A)=>{y!==A.length-1&&i[n].push(a)}),n===t.length-1&&h.forEach(a=>{i[n].push(a)})}),d.forEach((h,n,t)=>{if(n!==t.length-1){const a=[];a.push(h[h.length-1]),i.splice(n*2+1,0,a)}}),i},m=d=>{let i="";return d.forEach(h=>{h.forEach(n=>{i+=n})}),i},E=(d,i)=>{const h=i==="click"?d.target:d.key,n=i==="click"?h.value:h;let t=e[c];if(!((o.indexOf(n)!==-1||n==="BACKSPACE"||n==="ENTER")&&e.length<1)){if(e.length<1&&o.indexOf(n)===-1&&(p.value=""),n==="ESCAPE"){e.length=0,r="",c=0;return}if(f.indexOf(n)!==-1)return e.length<1?e.push(new Array(n)):r==="ENTER"?void 0:t.push(n);if(o.indexOf(n)!==-1&&n!=="-"&&(r==="BACKSPACE"&&(s=!1,r=void 0),r==="ENTER"&&(r=void 0),f.forEach(a=>{(t.at(0)===a||t.at(-1)===a)&&(s=!1)}),!s)){t.indexOf("(")!==-1&&t.at(-1)!==")"&&t.push(")"),t.push(n),s=!0,e.push(new Array),c++;return}if(n==="-"&&(r==="ENTER"&&(e.push(new Array),c++,r=void 0),t.length<1&&(s=!1,t.push("(")),f.forEach(a=>{if(t.at(-1)===a){t.indexOf("(")!==-1&&t.push(")"),t.push(n),s=!0,e.push(new Array),c++;return}}),!s)){t.push(n),s=!0;return}if(n==="BACKSPACE"){if(r=n,t.length<1){e.pop(),e.length<1?c=0:c--,t=e[c],t.length>0&&o.forEach(a=>{t.at(-1)===a&&t.pop()});return}if(t.length>0){t.at(1)==="-"&&t.length<3?t.splice(0,2):t.pop(),e[0].length<1&&(e.pop(),c=0);return}}if(n==="ENTER"){if(t.length<1)return r=void 0;t.length>1&&t.at(0)==="("&&t.push(")");const a=u(l(e));e.length=0,c=0,s=!1,r="ENTER",e.push(new Array),e[c].push(a)}}};g.forEach(d=>{d.addEventListener("click",i=>{E(i,"click"),w("test",e,2),p.value=e.length!==0?m(e):0})})};S();N();

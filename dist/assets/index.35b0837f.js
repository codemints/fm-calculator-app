const k=function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function f(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=f(e);fetch(e.href,n)}};k();const S=()=>{const d=Array.from(document.querySelectorAll('input[name="theme-control"]')),g=document.documentElement,f=localStorage.getItem("data-theme"),o="data-theme",e=u=>window.matchMedia(`(prefers-color-scheme: ${u})`),n=(u,l)=>{g.setAttribute(u,l),localStorage.setItem(u,l),s(l)},s=u=>{d.forEach(l=>{l.dataset.mode===u&&(d.forEach(m=>m.parentNode.classList.remove("active")),l.parentNode.classList.add("active"),l.checked=!0)})},c=(u,l)=>{f===l&&n(u,l)};e("dark").matches&&!f?(console.log(e("dark").matches,f),n(o,"dark"),s("dark")):!e("dark").matches&&!f&&(console.log(e("dark").matches,f),n(o,"light")),c(o,"dark"),c(o,"light"),c(o,"contrast"),d.forEach(u=>{u.addEventListener("change",l=>{const E=l.target.dataset.mode;n(o,E)})}),e("dark").addEventListener("change",()=>{e("dark").matches?n(o,"dark"):n(o,"light")})},w=(d,g,f)=>document.getElementById(d).innerHTML=JSON.stringify(g,null,f),N=(...d)=>console.log(d),v=()=>{const d=document.getElementById("calculations"),g=document.querySelectorAll(".button"),f=["1","2","3","4","5","6","7","8","9","0","."],o=["+","-","*","/"];let e=new Array,n,s=!1,c=0;const u=p=>{let i="";return p.forEach(h=>i+=h.join("")),c=0,n=void 0,new Function("return "+i)()},l=p=>{const i=new Array;return p.forEach((h,r,t)=>{i.push(new Array),r!==t.length-1&&h.forEach((a,y,A)=>{y!==A.length-1&&i[r].push(a)}),r===t.length-1&&h.forEach(a=>{i[r].push(a)})}),p.forEach((h,r,t)=>{if(r!==t.length-1){const a=[];a.push(h[h.length-1]),i.splice(r*2+1,0,a)}}),i},m=p=>{let i="";return p.forEach(h=>{h.forEach(r=>{i+=r})}),i},E=(p,i)=>{const h=i==="click"?p.target:p.key,r=i==="click"?h.value:h;let t=e[c];if(!((o.indexOf(r)!==-1||r==="BACKSPACE"||r==="ENTER")&&e.length<1)){if(e.length<1&&o.indexOf(r)===-1&&(d.value=""),r==="ESCAPE"){e.length=0,n="",c=0;return}if(f.indexOf(r)!==-1)return e.length<1?e.push(new Array(r)):n==="ENTER"?void 0:t.push(r);if(o.indexOf(r)!==-1&&r!=="-"&&(n==="BACKSPACE"&&(s=!1,n=void 0),n==="ENTER"&&(n=void 0),f.forEach(a=>{(t.at(0)===a||t.at(-1)===a)&&(s=!1)}),!s)){t.indexOf("(")!==-1&&t.at(-1)!==")"&&t.push(")"),t.push(r),s=!0,e.push(new Array),c++;return}if(r==="-"&&(n==="ENTER"&&(e.push(new Array),c++,n=void 0),t.length<1&&(s=!1,t.push("(")),f.forEach(a=>{if(t.at(-1)===a){t.indexOf("(")!==-1&&t.push(")"),t.push(r),s=!0,e.push(new Array),c++;return}}),!s)){t.push(r),s=!0;return}if(r==="BACKSPACE"){if(n=r,t.length<1){e.pop(),e.length<1?c=0:c--,t=e[c],t.length>0&&o.forEach(a=>{t.at(-1)===a&&t.pop()});return}if(t.length>0){t.at(1)==="-"&&t.length<3?t.splice(0,2):t.pop(),e[0].length<1&&(e.pop(),c=0);return}}if(r==="ENTER"){if(t.length<1)return n=void 0;t.length>1&&t.at(0)==="("&&t.push(")");const a=u(l(e));e.length=0,c=0,s=!1,n="ENTER",e.push(new Array),e[c].push(a)}}};g.forEach(p=>{p.addEventListener("click",i=>{E(i,"click"),w("test",e,2),N(n),d.value=e.length!==0?m(e):0})})};S();v();

const S=function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function l(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=l(e);fetch(e.href,r)}};S();const w=()=>{const d=Array.from(document.querySelectorAll('input[name="theme-control"]')),g=document.documentElement,l=localStorage.getItem("data-theme"),a="data-theme",e=u=>window.matchMedia(`(prefers-color-scheme: ${u})`),r=(u,f)=>{g.setAttribute(u,f),localStorage.setItem(u,f),o(f)},o=u=>{d.forEach(f=>{f.dataset.mode===u&&(d.forEach(m=>m.parentNode.classList.remove("active")),f.parentNode.classList.add("active"),f.checked=!0)})},s=(u,f)=>{l===f&&r(u,f)};e("dark").matches&&!l?(console.log(e("dark").matches,l),r(a,"dark"),o("dark")):!e("dark").matches&&!l&&(console.log(e("dark").matches,l),r(a,"light")),s(a,"dark"),s(a,"light"),s(a,"contrast"),d.forEach(u=>{u.addEventListener("change",f=>{const E=f.target.dataset.mode;r(a,E)})}),e("dark").addEventListener("change",()=>{e("dark").matches?r(a,"dark"):r(a,"light")})},N=(d,g,l)=>document.getElementById(d).innerHTML=JSON.stringify(g,null,l),A=(...d)=>console.log(d),v=()=>{const d=document.getElementById("calculations"),g=document.querySelectorAll(".button"),l=["1","2","3","4","5","6","7","8","9","0","."],a=["+","-","*","/"];let e=new Array,r,o=!1,s=0;const u=p=>{let i="";return p.forEach(h=>i+=h.join("")),s=0,r=void 0,new Function("return "+i)()},f=p=>{const i=new Array;return p.forEach((h,n,t)=>{i.push(new Array),n!==t.length-1&&h.forEach((c,y,k)=>{y!==k.length-1&&i[n].push(c)}),n===t.length-1&&h.forEach(c=>{i[n].push(c)})}),p.forEach((h,n,t)=>{if(n!==t.length-1){const c=[];c.push(h[h.length-1]),i.splice(n*2+1,0,c)}}),i},m=p=>{let i="";return p.forEach(h=>{h.forEach(n=>{i+=n})}),i},E=(p,i)=>{const h=i==="click"?p.target:p.key,n=i==="click"?h.value:h;let t=e[s];if(!((a.indexOf(n)!==-1||n==="BACKSPACE"||n==="ENTER")&&e.length<1)){if(e.length<1&&a.indexOf(n)===-1&&(d.value=""),n==="ESCAPE"){e.length=0,r="",s=0;return}if(l.indexOf(n)!==-1)return e.length<1?e.push(new Array(n)):r==="ENTER"?void 0:t.push(n);if(a.indexOf(n)!==-1&&n!=="-"){if(t.at(-1)==="-")return;if(r==="BACKSPACE"&&(o=!1,r=void 0),r==="ENTER"&&(r=void 0),l.forEach(c=>{if(t.at(0)===c||t.at(-1)===c){if(t.at(-1)===".")return;o=!1}}),A(`op: ${o}`),!o){let c=!1;if(t.indexOf("(")!==-1&&t.at(-1)!==")"&&(l.forEach(y=>{t.at(-1)===y&&(c=!0)}),c)){t.push(")"),e.push(new Array),s++,t.push(n),o=!0;return}A(`op: ${o}`),t.push(n),o=!0,e.push(new Array),s++;return}}if(n==="-"){if(r==="ENTER"&&(e.push(new Array),s++,r=void 0),t.length<1&&(o=!1,t.push("(")),l.forEach(c=>{if(t.at(-1)===c&&t.at(-1)!=="."){t.indexOf("(")!==-1&&t.push(")"),t.push(n),o=!0,e.push(new Array),s++;return}}),t.at(-1)==="-")return;if(t.at(-1)===")"&&(o=!o),!o){t.push(n),o=!0;return}}if(n==="BACKSPACE"){if(r=n,t.length<1){e.pop(),e.length<1?s=0:s--,t=e[s],t.length>0&&a.forEach(c=>{(t.at(-1)===c||t.at(-1)===")")&&t.pop()});return}if(t.length>0){t.at(1)==="-"&&t.length<3?t.splice(0,2):t.pop(),e[0].length<1&&(e.pop(),s=0);return}}if(n==="ENTER"){if(t.length<1)return r=void 0;if(t.length>1)if(t.at(0)==="("&&t.at(-1)!==".")t.push(")");else return;if(t.at(-1)===".")return;const c=u(f(e));e.length=0,s=0,o=!1,r="ENTER",e.push(new Array),e[s].push(c)}}};g.forEach(p=>{p.addEventListener("click",i=>{E(i,"click"),N("test",e,2),A(o,s,r),d.value=e.length!==0?m(e):0})})};w();v();

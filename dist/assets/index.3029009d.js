const A=function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function f(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=f(e);fetch(e.href,r)}};A();const S=()=>{const d=Array.from(document.querySelectorAll('input[name="theme-control"]')),g=document.documentElement,f=localStorage.getItem("data-theme"),o="data-theme",e=u=>window.matchMedia(`(prefers-color-scheme: ${u})`),r=(u,l)=>{g.setAttribute(u,l),localStorage.setItem(u,l),s(l)},s=u=>{d.forEach(l=>{l.dataset.mode===u&&(d.forEach(m=>m.parentNode.classList.remove("active")),l.parentNode.classList.add("active"),l.checked=!0)})},a=(u,l)=>{f===l&&r(u,l)};e("dark").matches&&!f?(console.log(e("dark").matches,f),r(o,"dark"),s("dark")):!e("dark").matches&&!f&&(console.log(e("dark").matches,f),r(o,"light")),a(o,"dark"),a(o,"light"),a(o,"contrast"),d.forEach(u=>{u.addEventListener("change",l=>{const E=l.target.dataset.mode;r(o,E)})}),e("dark").addEventListener("change",()=>{e("dark").matches?r(o,"dark"):r(o,"light")})},v=(d,g,f)=>document.getElementById(d).innerHTML=JSON.stringify(g,null,f),w=(...d)=>console.log(d),L=()=>{const d=document.getElementById("calculations"),g=document.querySelectorAll(".button"),f=["1","2","3","4","5","6","7","8","9","0","."],o=["+","-","*","/"];let e=new Array,r,s=!1,a=0;const u=p=>{let c="";return p.forEach(h=>c+=h.join("")),a=0,r=void 0,new Function("return "+c)()},l=p=>{const c=new Array;return p.forEach((h,n,t)=>{c.push(new Array),n!==t.length-1&&h.forEach((i,y,k)=>{y!==k.length-1&&c[n].push(i)}),n===t.length-1&&h.forEach(i=>{c[n].push(i)})}),p.forEach((h,n,t)=>{if(n!==t.length-1){const i=[];i.push(h[h.length-1]),c.splice(n*2+1,0,i)}}),c},m=p=>{let c="";return p.forEach(h=>{h.forEach(n=>{c+=n})}),c},E=(p,c)=>{const h=c==="click"?p.target:p.key,n=c==="click"?h.value:h;let t=e[a];if(!((o.indexOf(n)!==-1||n==="BACKSPACE"||n==="ENTER")&&e.length<1)){if(e.length<1&&o.indexOf(n)===-1&&(d.value=""),n==="ESCAPE"){e.length=0,r="",a=0;return}if(f.indexOf(n)!==-1)return e.length<1?e.push(new Array(n)):r==="ENTER"?void 0:t.push(n);if(o.indexOf(n)!==-1&&n!=="-"&&(r==="BACKSPACE"&&(s=!1,r=void 0),r==="ENTER"&&(r=void 0),f.forEach(i=>{(t.at(0)===i||t.at(-1)===i)&&(s=!1)}),!s)){t.indexOf("(")!==-1&&t.at(-1)!==")"&&t.push(")"),t.push(n),s=!0,e.push(new Array),a++;return}if(n==="-"&&(t.length<1&&(s=!1,t.push("(")),f.forEach(i=>{if(t.at(-1)===i){t.indexOf("(")!==-1&&t.push(")"),t.push(n),s=!0,e.push(new Array),a++;return}}),!s)){t.push(n),s=!0;return}if(n==="BACKSPACE"){if(r=n,t.length<1){e.pop(),e.length<1?a=0:a--,t=e[a],t.length>0&&o.forEach(i=>{t.at(-1)===i&&t.pop()});return}if(t.length>0){t.at(1)==="-"&&t.length<3?t.splice(0,2):t.pop(),e[0].length<1&&(e.pop(),a=0);return}}if(n==="ENTER"){if(t.length<1)return r=void 0;t.length>1&&t.at(0)==="("&&t.push(")");const i=u(l(e));e.length=0,a=0,s=!1,r="ENTER",e.push(new Array),e[a].push(i)}}};g.forEach(p=>{p.addEventListener("click",c=>{E(c,"click"),v("test",e,2),w(r),d.value=e.length!==0?m(e):0})})};S();L();
